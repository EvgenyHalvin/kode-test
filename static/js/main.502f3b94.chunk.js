(this["webpackJsonpkode-test"]=this["webpackJsonpkode-test"]||[]).push([[0],{192:function(e,t,c){"use strict";c.r(t);var s=c(0),n=c.n(s),a=c(76),i=c.n(a),o=(c(88),c(2)),l=c(5),r=c(12),j=c(1);var u=function(e){var t=e.loggedIn,c=e.isConfirmed,s=e.signOut;return Object(j.jsxs)("div",{className:"header",children:[Object(j.jsx)(r.b,{to:"/pokemon",className:"header__logo",children:"LOGO"}),Object(j.jsx)("div",{className:"header__status",children:Object(j.jsx)(j.Fragment,{children:t?Object(j.jsx)(r.b,{to:"/sign-in",className:"header__link",onClick:s,children:"\u041d\u0430\u0437\u0430\u0434"}):c?Object(j.jsx)("p",{className:"header__link",onClick:s,children:"\u0412\u044b\u0439\u0442\u0438"}):""})})]})},b=c(13),d=c(23);var p=function(e){var t=e.checkMatch;return Object(j.jsxs)("div",{className:"login",children:[Object(j.jsx)("h1",{className:"login__title",children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"}),Object(j.jsx)(b.d,{initialValues:{email:"",password:""},validationSchema:d.b().shape({email:d.c().email("\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e \u0432\u0432\u0435\u0434\u0435\u043d e-mail").required("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 e-mail"),password:d.c().required("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c")}),onSubmit:function(e,c){c.setSubmitting(!0),setTimeout((function(){c.setSubmitting(!1),t(e)}),1500)},children:function(e){var t=e.isSubmitting;return Object(j.jsxs)(b.c,{className:"form",children:[Object(j.jsx)(b.b,{type:"email",name:"email",placeholder:"E-mail",className:"input"}),Object(j.jsx)(b.a,{name:"email",render:function(e){return Object(j.jsx)("div",{className:"error",children:e})}}),Object(j.jsx)(b.b,{type:"password",name:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",className:"input"}),Object(j.jsx)(b.a,{name:"password",render:function(e){return Object(j.jsx)("div",{className:"error",children:e})}}),Object(j.jsxs)("button",{type:"submit",disabled:t,className:"".concat(t?"entryBtn entryBtn_disabled":"entryBtn"),children:[t?"\u0412\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u0432\u0445\u043e\u0434...":"\u0412\u043e\u0439\u0442\u0438",t?Object(j.jsx)("div",{className:"loader"}):""]})]})}})]})},m=c(16),O=c(83),f=["component"];var h=function(e){var t=e.component,c=Object(O.a)(e,f);return Object(j.jsx)(l.b,{children:function(){return c.isConfirmed?Object(j.jsx)(t,Object(m.a)({},c)):Object(j.jsx)(l.a,{to:"/sign-in"})}})};var g=function(e){var t=e.card,c=e.getPokemonInfo,s=e.setCardInfo,n=e.openFullImage;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("div",{style:{backgroundImage:"url(".concat(t.images.small,")")},className:"card__image",onClick:function(){s(t),n()},children:Object(j.jsx)("span",{className:"card__quick-view"})}),Object(j.jsxs)("div",{className:"card__description",children:[Object(j.jsx)("div",{className:"card__name",children:t.name}),Object(j.jsxs)("div",{className:"card__subtitle",children:[Object(j.jsx)("b",{children:"\u0410\u0432\u0442\u043e\u0440:"})," ",t.artist]}),Object(j.jsx)(r.b,{to:"/pokemon/".concat(t.name),className:"card__link",onClick:function(){c(t)},children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"})]})]})})};var x=function(e){var t=e.cards,c=e.getPokemonInfo,s=e.isGotItems,n=e.setCardInfo,a=e.openFullImage;return Object(j.jsx)("div",{className:"cards",children:s?Object(j.jsx)("div",{className:"wrap-for-loader",children:Object(j.jsxs)("div",{className:"cardsLoader",children:[Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{})]})}):t.map((function(e){return Object(j.jsx)(g,{card:e,getPokemonInfo:c,setCardInfo:n,openFullImage:a},e.id)}))})},_=c(40);var v=function(e){var t=e.item,c=e.selectItem;return Object(j.jsx)("li",{className:"selector__list-item",onClick:function(){c(t)},children:t})};var N=function(e){var t=e.selesctItem,c=e.listItems,n=e.typeSelector,a=e.isGotItems,i=e.menuId,l=e.menuList,r=e.toggleMenu,u=Object(s.useState)(!1),b=Object(o.a)(u,2),d=(b[0],b[1]),p=Object(s.useState)(""),m=Object(o.a)(p,2),O=m[0],f=m[1],h=Object(s.useState)([]),g=Object(o.a)(h,2),x=g[0],_=g[1],N=Object(s.useState)(""),y=Object(o.a)(N,2),k=y[0],S=y[1];function I(){r(i),f("")}function C(e){f(e),S(e),d(!1),f(""),t(e,n),I()}return Object(s.useEffect)((function(){_(c)}),[c]),Object(s.useEffect)((function(){S("type"===n?"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f":"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u043e\u0434\u0442\u0438\u043f")}),[]),Object(s.useEffect)((function(){c&&_((function(){return c.filter((function(e){return e.toLowerCase().includes(O.toLowerCase())}))}))}),[O]),Object(j.jsxs)("div",{className:"selector",children:[a?Object(j.jsxs)("div",{className:"selector__switch selector__switch_disabled",children:["\u0418\u0434\u0451\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",Object(j.jsx)("div",{className:"loader"})]}):Object(j.jsxs)("div",{className:"selector__switch ".concat(l[i]?"selector__switch_opened":""),onClick:function(){return I()},children:[k,Object(j.jsx)("span",{className:"selector__arrow ".concat(l[i]?"selector__arrow_opened":"")})]}),Object(j.jsxs)("div",{className:"selector__menu ".concat(l[i]?"selector__menu_opened":""),children:[Object(j.jsx)("input",{type:"text",name:"finder",className:"selector__finder",placeholder:"\u0418\u0441\u043a\u0430\u0442\u044c... ",value:O||"",onChange:function(e){f(e.target.value)},autoComplete:"off"}),Object(j.jsx)("ul",{className:"selector__list",children:x.map((function(e,t){return Object(j.jsx)(v,{item:e,selectItem:C},t)}))})]})]})};var y=function(e){var t=e.types,c=e.subtypes,n=e.getSelectedOptions,a=e.isGotItems,i=Object(s.useState)({}),l=Object(o.a)(i,2),r=l[0],u=l[1],b=Object(s.useState)({one:!1,two:!1}),d=Object(o.a)(b,2),p=d[0],O=d[1];function f(e,t){u("type"===t?Object(m.a)(Object(m.a)({},r),{},{type:e}):Object(m.a)(Object(m.a)({},r),{},{subtype:e}))}function h(e){O((function(){return Object.assign({one:!1,two:!1},Object(_.a)({},e,!p[e]))}))}return Object(s.useEffect)((function(){n(r)}),[r,n]),Object(j.jsxs)("div",{className:"sidebar",children:[Object(j.jsx)(N,{menuId:"one",menuList:p,toggleMenu:h,selesctItem:f,isGotItems:a,listItems:t,typeSelector:"type"}),Object(j.jsx)(N,{menuId:"two",menuList:p,toggleMenu:h,selesctItem:f,isGotItems:a,listItems:c,typeSelector:"subtype"})]})};var k=function(e){var t=e.currentPage,c=e.routePage,s=e.pagesAmount,n=e.isGotItems,a=c.nextPage,i=c.prevPage,o=c.firstPage,l=c.lastPage;return Object(j.jsx)("div",{className:"pagination",children:n?"":Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("button",{className:"pagination__button ".concat(1===t?"pagination__button_disabled":""),disabled:1===t,onClick:o,children:"\u043d\u0430 \u043f\u0435\u0440\u0432\u0443\u044e"}),Object(j.jsx)("button",{className:"pagination__button ".concat(1===t?"pagination__button_disabled":""),disabled:1===t,onClick:i,children:"\u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0430\u044f"}),Object(j.jsxs)("button",{className:"pagination__button",children:[t," / ",s]}),Object(j.jsx)("button",{className:"pagination__button ".concat(t===s?"pagination__button_disabled":""),disabled:t===s,onClick:a,children:"\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f"}),Object(j.jsx)("button",{className:"pagination__button ".concat(t===s?"pagination__button_disabled":""),disabled:t===s,onClick:l,children:"\u043d\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u044e\u044e"})]})})};var S=function(e){var t=e.cards,c=e.types,n=e.subtypes,a=e.getSelectedOptions,i=e.getPokemonInfo,l=e.isGotItems,r=e.onClose,u=e.setCardInfo,b=e.openFullImage,d=e.getCards,p=e.getTypes,m=e.getSubtypes,O=Object(s.useState)(1),f=Object(o.a)(O,2),h=f[0],g=f[1],_=Object(s.useState)(4),v=Object(o.a)(_,2),N=v[0],S=(v[1],Object(s.useState)(1)),I=Object(o.a)(S,2),C=I[0],w=I[1],P=Object(s.useState)(t),E=Object(o.a)(P,2),F=E[0],G=E[1];function T(e){G(t.slice(e*N-N,e*N))}return Object(s.useEffect)((function(){d(),p(),m()}),[]),Object(s.useEffect)((function(){G(t),T(1)}),[t]),Object(s.useEffect)((function(){w(Math.ceil(t.length/N))}),[t]),Object(s.useEffect)((function(){T(h)}),[h]),Object(s.useEffect)((function(){g(1)}),[t]),Object(j.jsxs)("div",{className:"main",children:[Object(j.jsx)(y,{types:c,subtypes:n,getSelectedOptions:a,isGotItems:l}),Object(j.jsxs)("div",{className:"main-side",children:[Object(j.jsx)(x,{cards:F,getPokemonInfo:i,isGotItems:l,onClose:r,setCardInfo:u,openFullImage:b}),Object(j.jsx)(k,{currentPage:h,pagesAmount:C,isGotItems:l,routePage:{nextPage:function(){g((function(e){return e===C?e:e+1}))},prevPage:function(){g((function(e){return 1===e?e:e-1}))},firstPage:function(){g(1)},lastPage:function(){g(C)}}})]})]})};var I=function(e){var t=e.onClose,c=e.isOpen;return Object(j.jsx)("div",{className:"popup ".concat(c?"popup_opened":""),onClick:function(e){"popup popup_opened"===e.target.className&&t()},children:Object(j.jsxs)("div",{className:"popup__container",children:[Object(j.jsx)("button",{type:"button",className:"popup__close-icon",onClick:t}),Object(j.jsx)("div",{className:"popup__err-image"}),Object(j.jsx)("h3",{className:"popup__title",children:"\u0414\u0430\u043d\u043d\u044b\u0435 \u0432\u0432\u0435\u0434\u0435\u043d\u044b \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e"})]})})};var C=function(e){var t=e.card,c=e.onClose,s=e.isOpen;return Object(j.jsx)(j.Fragment,{children:t.images?Object(j.jsx)("div",{className:"popup ".concat(s?"popup_opened":""),onClick:function(e){"popup popup_opened"===e.target.className&&c()},children:Object(j.jsxs)("div",{className:"popup__container",children:[Object(j.jsx)("button",{type:"button",className:"popup__close-icon",onClick:c}),Object(j.jsx)("img",{alt:t.name,className:"popup__image",src:t.images.large})]})}):""})};var w=function(e){var t=e.confirm;return console.log("\u041a\u043e\u0434 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438: 123456"),Object(j.jsxs)("div",{className:"confirm",children:[Object(j.jsx)("p",{className:"confirm__title",children:"\u041d\u0430 \u0412\u0430\u0448 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0431\u044b\u043b \u0432\u044b\u0441\u043b\u0430\u043d \u043a\u043e\u0434 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438. \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0435\u0433\u043e \u0432 \u043f\u043e\u043b\u0435 \u043d\u0438\u0436\u0435."}),Object(j.jsx)(b.d,{initialValues:{code:""},validationSchema:d.b().shape({code:d.a().typeError("\u041a\u043e\u0434 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0446\u0438\u0444\u0440").required("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u0438\u0437 SMS-\u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f")}),onSubmit:function(e,c){c.setSubmitting(!0),setTimeout((function(){c.setSubmitting(!1),t(e)}),1500)},children:function(e){var t=e.isSubmitting;return Object(j.jsxs)(b.c,{className:"form",children:[Object(j.jsx)(b.b,{type:"text",name:"code",placeholder:"\u041a\u043e\u0434 \u0438\u0437 SMS-\u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f",className:"input",autoComplete:"off"}),Object(j.jsx)(b.a,{name:"code",render:function(e){return Object(j.jsx)("div",{className:"error",children:e})}}),Object(j.jsxs)("button",{type:"submit",disabled:t,className:"".concat(t?"entryBtn entryBtn_disabled":"entryBtn"),children:[t?"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435":"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c",t?Object(j.jsx)("div",{className:"loader"}):""]})]})}})]})};var P=function(e){return e.loggedIn?Object(j.jsx)(w,Object(m.a)({},e)):Object(j.jsx)(l.a,{to:"/sign-in"})},E=n.a.createContext();var F=function(){var e=n.a.useContext(E);return Object(j.jsxs)("div",{className:"full",children:[Object(j.jsx)("section",{className:"full__left-side",children:Object(j.jsx)("div",{className:"full__image",style:{backgroundImage:"url(".concat(e.images.large,")")}})}),Object(j.jsxs)("section",{className:"full__right-side",children:[Object(j.jsx)("h1",{className:"full__title",children:e.name}),Object(j.jsxs)("p",{className:"full__subtitle",children:["\u0421\u0443\u043f\u0435\u0440\u0442\u0438\u043f: ",e.supertype]}),Object(j.jsxs)("p",{className:"full__subtitle",children:["\u0422\u0438\u043f: ",e.types]}),Object(j.jsxs)("p",{className:"full__subtitle",children:["\u041f\u043e\u0434\u0442\u0438\u043f: ",e.subtypes]}),Object(j.jsx)("span",{className:"full__line"}),Object(j.jsxs)("p",{className:"full__subtitle",children:["\u0423\u0440\u043e\u043d \u043e\u0442 \u0430\u0442\u0430\u043a\u0438: ",e.attacks[0].damage?e.attacks[0].damage:"\u0443\u0440\u043e\u043d \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d \u0438\u043b\u0438 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442"]}),Object(j.jsxs)("p",{className:"full__subtitle",children:["\u0417\u0430\u0442\u0440\u0430\u0442\u044b \u043d\u0430 \u0430\u0442\u0430\u043a\u0443: ",e.attacks[0].cost[0]?e.attacks[0].cost[0]:"\u0437\u0430\u0442\u0440\u0430\u0442\u044b \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u044b \u0438\u043b\u0438 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442"]}),Object(j.jsxs)("p",{className:"full__subtitle",children:["\u0421\u043b\u0430\u0431\u043e\u0441\u0442\u0438: ",e.weaknesses?e.weaknesses[0].type:"\u043d\u0435\u0442 \u0441\u043b\u0430\u0431\u043e\u0441\u0442\u0435\u0439"]}),Object(j.jsxs)("p",{className:"full__subtitle",children:["\u041a\u043e\u043b-\u0432\u043e \u0437\u0434\u043e\u0440\u043e\u0432\u044c\u044f: ",e.hp,"hp"]}),Object(j.jsxs)("p",{className:"full__description",children:[Object(j.jsx)("b",{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:"})," ",e.flavorText]}),Object(j.jsx)(r.b,{to:"/pokemon",className:"full__link",children:"\u041d\u0430\u0437\u0430\u0434"})]})]})},G=c(3),T=c(4),L=new(function(){function e(){Object(G.a)(this,e),this.baseUrl="https://api.pokemontcg.io/v2"}return Object(T.a)(e,[{key:"checkResponse",value:function(e){return e.ok?e.json():Promise.reject("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}},{key:"getCards",value:function(){return fetch("".concat(this.baseUrl,"/cards"),{headers:{Accept:"application/json","Content-Type":"application/json"}}).then(this.checkResponse)}},{key:"getTypes",value:function(){return fetch("".concat(this.baseUrl,"/types"),{headers:{Accept:"application/json","Content-Type":"application/json"}}).then(this.checkResponse)}},{key:"getSubtypes",value:function(){return fetch("".concat(this.baseUrl,"/subtypes"),{headers:{Accept:"application/json","Content-Type":"application/json"}}).then(this.checkResponse)}}]),e}());var M=function(){var e={email:"kode@kode.ru",password:"Enk0deng"},t=Object(s.useState)(!1),c=Object(o.a)(t,2),n=c[0],a=c[1],i=Object(s.useState)(!1),r=Object(o.a)(i,2),b=r[0],d=r[1],m=Object(s.useState)({}),O=Object(o.a)(m,2),f=O[0],g=O[1],x=Object(s.useState)([]),_=Object(o.a)(x,2),v=_[0],N=_[1],y=Object(s.useState)([]),k=Object(o.a)(y,2),w=k[0],G=k[1],T=Object(s.useState)([]),M=Object(o.a)(T,2),B=M[0],A=M[1],q=Object(s.useState)({}),J=Object(o.a)(q,2),R=J[0],U=J[1],V=Object(s.useState)([]),D=Object(o.a)(V,2),z=D[0],H=D[1],K=Object(s.useState)(!1),Q=Object(o.a)(K,2),W=Q[0],X=Q[1],Y=Object(s.useState)(!1),Z=Object(o.a)(Y,2),$=Z[0],ee=Z[1],te=Object(s.useState)({}),ce=Object(o.a)(te,2),se=ce[0],ne=ce[1],ae=Object(s.useState)({}),ie=Object(o.a)(ae,2),oe=ie[0],le=ie[1],re=Object(s.useState)(!1),je=Object(o.a)(re,2),ue=je[0],be=je[1],de=Object(l.g)();function pe(){X(!1),ee(!1),ne({})}return Object(s.useEffect)((function(){localStorage.getItem("jwt")?(d(!0),de.push("/pokemon")):(d(!1),de.push("/sign-in"))}),[de]),Object(s.useEffect)((function(){N((function(){return z.filter((function(e){return!R.type&&!R.subtype||(!(!e.types.includes(R.type)||R.subtype)||(!(R.type||!e.subtypes.includes(R.subtype))||!(!e.types.includes(R.type)||!e.subtypes.includes(R.subtype))))}))}))}),[R]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"page",children:Object(j.jsxs)(E.Provider,{value:oe,children:[Object(j.jsx)(u,{signOut:function(){localStorage.removeItem("jwt"),de.push("/sign-in"),d(!1),a(!1)},loggedIn:n,isConfirmed:b}),Object(j.jsxs)(l.d,{children:[Object(j.jsx)(l.b,{path:"/sign-in",children:Object(j.jsx)(p,{checkMatch:function(t){JSON.stringify(t)===JSON.stringify(e)?(g(t),a(!0),de.push("/confirmation")):X(!0)}})}),Object(j.jsx)(l.b,{path:"/confirmation",children:Object(j.jsx)(P,{loggedIn:n,confirm:function(e){123456==e.code?(a(!1),d(!0),localStorage.setItem("jwt","".concat(f.email).concat(f.password,"some_secret_key")),de.push("/pokemon")):X(!0)}})}),Object(j.jsx)(h,{path:"/pokemon",exact:!0,isConfirmed:b,component:S,cards:v,types:w,subtypes:B,getSelectedOptions:function(e){U(e)},getPokemonInfo:function(e){le(e)},isGotItems:ue,setCardInfo:function(e){ne(e)},openFullImage:function(){ee(!0)},getCards:function(){be(!0),L.getCards().then((function(e){N(e.data),H(e.data)})).catch((function(e){return console.log(e)})).finally((function(){be(!1)}))},getTypes:function(){L.getTypes().then((function(e){G(e.data)})).catch((function(e){return console.log(e)}))},getSubtypes:function(){L.getSubtypes().then((function(e){A(e.data)})).catch((function(e){return console.log(e)}))}}),Object(j.jsx)(h,{path:"/pokemon/:name",isConfirmed:b,component:F})]})]})}),Object(j.jsx)(I,{isOpen:W,onClose:pe}),Object(j.jsx)(C,{card:se,isOpen:$,onClose:pe})]})},B=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,193)).then((function(t){var c=t.getCLS,s=t.getFID,n=t.getFCP,a=t.getLCP,i=t.getTTFB;c(e),s(e),n(e),a(e),i(e)}))};i.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(r.a,{children:Object(j.jsx)(M,{})})}),document.getElementById("root")),B()},88:function(e,t,c){}},[[192,1,2]]]);
//# sourceMappingURL=main.502f3b94.chunk.js.map